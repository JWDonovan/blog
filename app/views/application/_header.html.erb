<nav aria-label="main navigation" class="navbar" role="navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="<%= root_url %>">
            <img alt="logo" src="https://bulma.io/images/bulma-logo.png">
        </a>
        <a aria-expanded="false" aria-label="menu" class="navbar-burger burger" id="navbar-burger" roles="button">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>

    <div class="navbar-menu" id="mobile-navbar">
        <div class="navbar-start">
            <a class="navbar-item" href="<%= posts_path %>">Posts</a>
            <a class="navbar-item" href="/latest">Latest</a>

            <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link" href="/contact">Contact</a>

                <div class="navbar-dropdown">
                    <a class="navbar-item" href="/about">
                        <span class="icon">
                            <%= fa_icon "user-circle" %>
                        </span>
                        <span>About</span>
                    </a>
                    <a class="navbar-item" href="/portfolio">
                        <span class="icon">
                            <%= fa_icon "briefcase" %>
                        </span>
                        <span>Portfolio</span>
                    </a>
                    <a class="navbar-item" href="/hire-me">
                        <span class="icon">
                            <%= fa_icon "thumbs-up" %>
                        </span>
                        <span>Hire Me!</span>
                    </a>
                    
                    <hr class="navbar-divider">

                    <a class="navbar-item" href="/bugs">
                        <span class="icon">
                            <%= fa_icon "bug" %>
                        </span>
                        <span>Report an issue</span>
                    </a>
                </div>
            </div>
        </div>

        <div class="navbar-end">
            <% if user_signed_in? %>
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link">
                        <span class="icon">
                            <%= fa_icon "user-circle" %>
                        </span>
                        <span><%= current_user.email %></span>
                    </a>
                    <div class="navbar-dropdown">
                        <a class="navbar-item">
                            <span class="icon">
                                <%= fa_icon "sliders" %>
                            </span>
                            <span>Settings</span>
                        </a>
                        <a class="navbar-item">
                            <span class="icon">
                                <%= fa_icon "comments" %>
                            </span>
                            <span>Comments</span>
                        </a>

                        <% if true %> <!-- if author -->
                            <a class="navbar-item" href="<%= new_post_url %>">
                                <span class="icon">
                                    <%= fa_icon "plus-circle" %>
                                </span>
                                <span>New Post</span>
                            </a>
                        <% end %>

                        <% if true %> <!-- if admin -->
                            <hr class="navbar-divider">
                            <a class="navbar-item">
                                <span class="icon">
                                    <%= fa_icon "users" %>
                                </span>
                                <span>Users</span>
                            </a>
                            <a class="navbar-item">
                                <span class="icon">
                                    <%= fa_icon "bar-chart" %>
                                </span>
                                <span>Stats</span>
                            </a>
                        <% end %>

                        <hr class="navbar-divider">
                        <%= link_to destroy_user_session_url, method: :delete, class: "navbar-item" do %>
                            <span class="icon">
                                <%= fa_icon "sign-out" %>
                            </span>
                            <span>Log out</span>
                        <% end %>
                    </div>
                </div>
            <% else %>
                <div class="navbar-item">
                    <div class="buttons">
                        <a class="button is-primary" href="<%= new_user_registration_url %>">
                            <strong>Sign up</strong>
                            <span class="icon">
                                <%= fa_icon "user-plus" %>
                            </span>
                        </a>
                        <a class="button is-light" href="<%= new_user_session_url %>">
                            <strong>Log in</strong>
                            <span class="icon">
                                <%= fa_icon "sign-in" %>
                            </span>
                        </a>
                    </div>
                </div>
            <% end %>
        </div>
    </div>
</nav>